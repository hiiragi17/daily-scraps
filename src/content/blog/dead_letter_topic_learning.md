
---
title: '今日学んだこと：デッドレタートピックに関して'
description: 'デッドレタートピックに関して'
pubDate: 2025-10-30
tags: ['デッドレタートピック']
draft: false
---

## 概要

デッドレタートピックについて学んだ。

### デッドレタートピックとは

Cloud Pub/Sub でトピックを立てて、
メッセージの送受信を行うケースにおいて、
メッセージの処理プロセスの中でエラーが発生した場合、
そのメッセージのハンドリングが必要になる。

デッドレタートピックは、Pub/Sub において正常に
処理できなかったメッセージを保存するための特別な Topic 。
メッセージングシステムにおける「安全網」として機能し、
処理に失敗したメッセージ（デッドレター）を確実に
キャプチャして保持する。

AWS SQS にも Dead Letter Queue という仕組みが用意されており、その Pub/Sub 版と考えるのがわかりやすいかもしれない。

この仕組みがないとどうなるか？というとキューイングされた
あるメッセージにはそのキューに残り続けていられる TTL 
(IPパケットの寿命のこと。パケットが通過できるルータの数を表す。)が存在する。
そのため、メッセージを取り出すことなくTTLを過ぎるとそのメッセージは消失して二度と処理に回すことはできない。

### 参考文献

https://cloud.google.com/pubsub/docs/dead-letter-topics?hl=ja

https://ema-hiro.hatenablog.com/entry/2024/09/22/025046

https://zenn.dev/cloud_ace/articles/pubsub-deadletter-topic

---


