---
title: '今日学んだこと：Cloudflareに関して'
description: 'Cloudflareと障害に関して'
pubDate: 2025-11-19
tags: ['Cloudflare']
draft: false
---

## 概要

Cloudflareは、Webサイトやアプリケーションの表示速度を速くし、セキュリティを強化するサービス。
アメリカのサンフランシスコに本社を置く企業が提供している。

Cloudflareの主な役割は3つある:

### 1\. **Webサイトの高速化**

世界330都市以上にデータセンターを設置しており、
ユーザーの近くにあるサーバーからコンテンツを配信する。
これにより、遠くのサーバーにアクセスするより格段に速く表示される。

### 2\. **セキュリティ保護**

1日あたり平均2470億件の脅威をブロックしており、DDoS攻撃(大量アクセスによるサーバーダウン狙い)や悪意のある攻撃からWebサイトを守る。

### 3\. **安定稼働の維持**

1台のサーバーが停止しても自動的にバックアップサーバーに切り替わるため、サイトが落ちにくくなる。

どれくらい使われているか?
-------------

Cloudflareは、Webの約20%でプロキシとして利用されており、世界中の多くのWebサイトで採用されている。
X(旧Twitter)やChatGPTなど、有名なサービスでも使われている。

料金は?
----

無料プランから始められるのも特徴で、小規模なサイトなら無料で十分な機能が使える。

昨日(11月18日)のCloudflare障害について、詳しく調べてみますね。# 11月18日のCloudflare障害について

昨日の障害について、詳しく説明しますね。

障害の概要
-----

11月18日午後8時48分ごろ(日本時間)から、
Cloudflareで障害が発生し、Xをはじめとした各種Webサービスが利用しにくい状態になった。
影響を受けたサービスには以下のようなものがあった:

*   **X(旧Twitter)** - 投稿が読み込めない
*   **ChatGPT、Claude** - ログインできない
*   **その他多数のWebサイト** - 500エラーが表示される

障害の原因
-----

原因は、ボット管理システムで使用される設定ファイルの生成プロセスにおける内部のミス。

**具体的には:** データベースの権限を変更した際、意図せず重複データが含まれてしまい、ファイルサイズが2倍になってしまった。この巨大な設定ファイルが世界中のCloudflareサーバーに配信された結果、各サーバーのメモリ容量を超えてしまい、システムがクラッシュした。

サイバー攻撃ではない
----------

調査の結果、攻撃ではなく内部の設定ミスであることが特定された。最初はDDoS攻撃の可能性も疑われたが、実際には人為的なミスだった。

復旧の経緯
-----

主要なトラフィックは同日14時30分頃までに概ね正常化し、17時6分にすべてのシステムが完全に復旧した。

対応としては:

1.  問題のある設定ファイルの配布を停止
2.  正常な過去バージョンに差し替え
3.  影響を受けたシステムを順次再起動

CEOのコメント
--------

CloudflareのCEOマシュー・プリンス氏は今回の件を「2019年以来最悪の障害」と位置づけ、謝罪た。今後は設定ファイルの検証体制を強化し、再発防止に取り組むとしている。

なぜ影響が大きかったのか
------------

Cloudflareが止まると、XやChatGPTを含む世界中のサイトがまとめて影響を受けるという、インターネットインフラの集中化の問題が浮き彫りになった。

### 参考文献

*   [Cloudflare公式サイト](https://www.cloudflare.com/ja-jp/what-is-cloudflare/)
*   [Wikipedia - Cloudflare](https://ja.wikipedia.org/wiki/Cloudflare)
*   [ITmedia NEWS](https://www.itmedia.co.jp/news/articles/2511/18/news128.html)
*   [Yahoo!ニュース(ASCII)](https://news.yahoo.co.jp/articles/482a672a1cd2eb9f1713e7306f4fa22469c4b4fe)
*   [PC Watch](https://pc.watch.impress.co.jp/docs/news/2064390.html)

---

